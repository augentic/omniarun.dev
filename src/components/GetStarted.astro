---
const buildCode = `<span class="token-comment"># Build with the features you need</span>
<span class="token-fn">cargo</span> build \\
  --bin=realtime \\
  --features=realtime \\
  --release`;

const guestCode = `<span class="token-keyword">use</span> omnia_sdk::{<span class="token-type">Config</span>, <span class="token-type">HttpRequest</span>, <span class="token-type">Identity</span>};

<span class="token-attr">#[derive(Clone, Default)]</span>
<span class="token-keyword">pub struct</span> <span class="token-type">Provider</span>;

<span class="token-keyword">impl</span> <span class="token-type">Provider</span> {
    <span class="token-keyword">pub fn</span> <span class="token-fn">new</span>() -&gt; <span class="token-type">Self</span> {
        <span class="token-macro">ensure_env!</span>(<span class="token-string">"API_URL"</span>, <span class="token-string">"AZURE_IDENTITY"</span>);
        <span class="token-type">Self</span>
    }
}

<span class="token-keyword">impl</span> <span class="token-type">Config</span> <span class="token-keyword">for</span> <span class="token-type">Provider</span> {}
<span class="token-keyword">impl</span> <span class="token-type">HttpRequest</span> <span class="token-keyword">for</span> <span class="token-type">Provider</span> {}
<span class="token-keyword">impl</span> <span class="token-type">Identity</span> <span class="token-keyword">for</span> <span class="token-type">Provider</span> {}`;

const dockerCode = `<span class="token-fn">docker</span> build \\
  --build-arg <span class="token-type">BIN</span>=<span class="token-string">"realtime"</span> \\
  --build-arg <span class="token-type">FEATURES</span>=<span class="token-string">"realtime"</span> \\
  --tag ghcr.io/augentic/realtime .`;
---

<section id="get-started" class="relative py-24 sm:py-32">
  <!-- Divider -->
  <div class="mx-auto max-w-6xl px-6 lg:px-8">
    <div class="mb-20 h-px bg-gradient-to-r from-transparent via-rule to-transparent"></div>
  </div>

  <div class="mx-auto max-w-6xl px-6 lg:px-8">
    <div class="grid gap-16 lg:grid-cols-[0.8fr_1.2fr] lg:gap-20">
      <!-- Left: intro -->
      <div>
        <p class="reveal mb-3 font-mono text-xs font-medium uppercase tracking-[0.2em] text-copper">
          Get Started
        </p>
        <h2 class="reveal reveal-delay-1 font-display text-3xl font-bold leading-tight tracking-tight sm:text-4xl">
          From Rust to<br/>
          <span class="text-copper">running WASM</span><br/>
          in minutes.
        </h2>
        <p class="reveal reveal-delay-2 mt-6 text-base leading-relaxed text-ink-muted sm:text-lg">
          Build your handlers as a standard Rust crate, compile to
          <code class="rounded bg-surface px-1.5 py-0.5 font-mono text-xs text-copper">wasm32-wasip2</code>,
          and let the runtime handle the rest.
        </p>
        <div class="reveal reveal-delay-3 mt-8">
          <a
            href="https://github.com/augentic/omnia/tree/main/examples"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 text-sm font-medium text-copper transition-colors hover:text-copper-light"
          >
            Browse examples on GitHub
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>

      <!-- Right: code blocks -->
      <div class="space-y-5">
        <!-- Step 1: Build -->
        <div class="reveal">
          <p class="mb-2 flex items-center gap-2">
            <span class="flex h-5 w-5 items-center justify-center rounded-full bg-copper/10 font-mono text-[10px] font-bold text-copper">1</span>
            <span class="font-mono text-xs text-ink-muted">Build your runtime</span>
          </p>
          <div class="rounded-xl border border-surface-dark/10 bg-surface-dark shadow-lg">
            <div class="flex items-center gap-2 border-b border-white/5 px-4 py-2.5">
              <span class="font-mono text-[11px] text-white/25">terminal</span>
            </div>
            <pre class="overflow-x-auto p-5 font-mono text-[13px] leading-[1.7] text-white/80"><code set:html={buildCode} /></pre>
          </div>
        </div>

        <!-- Step 2: Guest -->
        <div class="reveal reveal-delay-1">
          <p class="mb-2 flex items-center gap-2">
            <span class="flex h-5 w-5 items-center justify-center rounded-full bg-copper/10 font-mono text-[10px] font-bold text-copper">2</span>
            <span class="font-mono text-xs text-ink-muted">Wire your guest provider</span>
          </p>
          <div class="rounded-xl border border-surface-dark/10 bg-surface-dark shadow-lg">
            <div class="flex items-center gap-2 border-b border-white/5 px-4 py-2.5">
              <span class="font-mono text-[11px] text-white/25">lib.rs</span>
            </div>
            <pre class="overflow-x-auto p-5 font-mono text-[13px] leading-[1.7] text-white/80"><code set:html={guestCode} /></pre>
          </div>
        </div>

        <!-- Step 3: Docker -->
        <div class="reveal reveal-delay-2">
          <p class="mb-2 flex items-center gap-2">
            <span class="flex h-5 w-5 items-center justify-center rounded-full bg-copper/10 font-mono text-[10px] font-bold text-copper">3</span>
            <span class="font-mono text-xs text-ink-muted">Deploy</span>
          </p>
          <div class="rounded-xl border border-surface-dark/10 bg-surface-dark shadow-lg">
            <div class="flex items-center gap-2 border-b border-white/5 px-4 py-2.5">
              <span class="font-mono text-[11px] text-white/25">terminal</span>
            </div>
            <pre class="overflow-x-auto p-5 font-mono text-[13px] leading-[1.7] text-white/80"><code set:html={dockerCode} /></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
